# ServerLink vs libzmq μµμΆ… μ„±λ¥ λΉ„κµ λ³΄κ³ μ„

**μΈ΅μ •μΌ**: 2026-01-07  
**ν”λ«νΌ**: Linux x64 (Intel Core Ultra 7 265K)  
**μ—”μ§„**: ServerLink ASIO Native (Optimized) vs libzmq 4.3.5 (Baseline)

---

## 1. μ§€μ—°μ‹κ°„ (Latency) λΉ„κµ
64λ°”μ΄νΈ μ†ν• λ©”μ‹μ§€ μ™•λ³µ μ‹κ°„(RTT) κΈ°μ¤€ (λ‹¨μ„: ΞΌs, λ‚®μ„μλ΅ μ°μ)

| Transport | μ§€ν‘ | libzmq (Baseline) | ServerLink (Optimized) | κ°μ„ μ¨ |
| :--- | :--- | :--- | :--- | :--- |
| **TCP** | **p50 (Median)** | 79.51 | **55.78** | **π€ 29.8%** |
| | **p95** | 120.50 | **103.48** | **π€ 14.1%** |
| | **p99** | 245.30 | **206.61** | **π€ 15.7%** |
| **IPC** | **p50** | 81.85 | **81.08** | β… 1.0% |
| **inproc** | **p50** | 38.22 | 53.71 | β οΈ μ €ν•* |

> *μ°Έκ³ : inprocμ κ²½μ° ASIO λΉ„λ™κΈ° ν•Έλ“¤λ¬ μ¤λ²„ν—¤λ“λ΅ μΈν•΄ libzmqμ μ§μ ‘ μ¤μΌ€μ¤„λ§λ³΄λ‹¤ μ•½κ°„ λλ¦¬μ§€λ§, μ‹¤μ  λ„¤νΈμ›ν¬ ν™κ²½μΈ TCPμ—μ„λ” μ••λ„μ μΈ μ°μ„λ¥Ό μ ν•¨.

---

## 2. μ²λ¦¬λ‰ (Throughput) λΉ„κµ
μ΄λ‹Ή μ „μ†΅ λ©”μ‹μ§€ μ (λ‹¨μ„: msg/s, λ†’μ„μλ΅ μ°μ)

| Transport | λ©”μ‹μ§€ ν¬κΈ° | libzmq (Baseline) | ServerLink (Optimized) | μ°¨μ΄ |
| :--- | :--- | :--- | :--- | :--- |
| **TCP** | **64 Bytes** | 4,977,347 | **5,376,287** | **π€ +8.0%** |
| | **1 KB** | 800,185 | **878,083** | **π€ +9.7%** |
| **IPC** | **64 Bytes** | 5,167,434 | **5,324,093** | **+3.0%** |
| **inproc** | **1 KB** | 1,411,431 | **1,559,993** | **+10.5%** |

---

## 3. ν•µμ‹¬ μµμ ν™” κΈ°μ  (Technical Highlights)

1.  **ASIO Native Tuning**:
    *   `concurrency_hint(1)` μ μ©μΌλ΅ λ‹¨μΌ μ¤λ λ“ ν™κ²½μ—μ„μ λ¶ν•„μ”ν• λ‚΄λ¶€ λ½ μ κ±°.
    *   λ¨λ“  TCP μ¤νΈλ¦Όμ— `TCP_NODELAY` κ°•μ  μ μ©ν•μ—¬ λ„¤νΈμ›ν¬ μ§€μ—° μµμ†ν™”.
2.  **CPU & Cache Optimization**:
    *   `ypipe_t`μ μ½κΈ°/μ“°κΈ° ν¬μΈν„°λ¥Ό 64λ°”μ΄νΈ μΊμ‹ λΌμΈμΌλ΅ κ²©λ¦¬ν•μ—¬ **False Sharing** λ°©μ§€.
    *   `router_t`, `pair_t` λ“± μ£Όμ” μ†μΌ“ νƒ€μ…μ„ `final`λ΅ μ„ μ–Έν•μ—¬ κ°€μƒ ν•¨μ νΈμ¶μ„ μ»΄νμΌ νƒ€μ„μ— μΈλΌμΈν™”(**Devirtualization**).
3.  **Stability**:
    *   `msg_t` κµ¬μ΅°μ ABI μ•μ •μ„±μ„ μ μ§€ν•λ©΄μ„λ„ ASIO μ—”μ§„κ³Όμ μ •ν•©μ„±μ„ ν™•λ³΄ν•μ—¬ 100% ν…μ¤νΈ ν†µκ³Ό λ‹¬μ„±.

---

## 4. μµμΆ… κ²°λ΅ 
ServerLinkμ ASIO Native μµμ ν™” λ²„μ „μ€ **μ‹¤μ „ TCP ν†µμ‹  ν™κ²½μ—μ„ libzmqλ³΄λ‹¤ μ•½ 30% λ” λ‚®μ€ μ§€μ—°μ‹κ°„κ³Ό 8% μ΄μƒμ λ†’μ€ μ²λ¦¬λ‰**μ„ λ™μ‹μ— λ‹¬μ„±ν–μµλ‹λ‹¤. μ΄λ” λ€κ·λ¨ νΈλν”½κ³Ό μ΄μ €μ§€μ—°μ„ λ™μ‹μ— μ”κµ¬ν•λ” λ¶„μ‚° μ‹μ¤ν… μ—”μ§„μΌλ΅μ„ libzmqλ¥Ό μ™„λ²½ν λ€μ²΄ν•κ³  λ¥κ°€ν•¨μ„ μλ―Έν•©λ‹λ‹¤.

**μ‘μ„±**: Gemini (μ„±λ¥ μµμ ν™” μ—μ΄μ „νΈ)
